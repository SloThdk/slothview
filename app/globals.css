@import "tailwindcss";

:root {
  --bg: #08080C;
  --bg-panel: rgba(10,10,14,0.98);
  --accent: #6C63FF;
  --accent-glow: rgba(108,99,255,0.12);
  --text: #EEEEF0;
  --text-dim: rgba(238,238,240,0.35);
  --border: rgba(255,255,255,0.04);
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { background: var(--bg); color: var(--text); font-family: 'Inter', system-ui, -apple-system, sans-serif; overflow: hidden; max-width: 100vw; width: 100%; height: 100dvh; overscroll-behavior: none; -webkit-overflow-scrolling: touch; position: fixed; inset: 0; }
button { cursor: pointer; border: none; background: none; color: inherit; font: inherit; }
input, select { font: inherit; }

::-webkit-scrollbar { width: 3px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius: 3px; }

.leva-container { display: none !important; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }
@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
@keyframes slideUp { from { opacity: 0; transform: translateY(100%); } to { opacity: 1; transform: translateY(0); } }

/* Prevent any horizontal scroll on iOS */
#__next, main { overflow: hidden !important; max-width: 100vw !important; }

/* ── Mobile & tablet (portrait + landscape) ── */
@media (max-width: 768px) {
  .sidebar-panel {
    position: fixed !important;
    left: 0 !important;
    top: 32px !important;
    bottom: 0 !important;
    z-index: 40 !important;
    width: 75vw !important;
    max-width: 280px !important;
    animation: slideIn 0.2s ease;
    overflow-y: auto !important;
    overflow-x: hidden !important;
  }
  .sidebar-panel[data-closed="true"] {
    transform: translateX(-100%) !important;
    pointer-events: none !important;
    opacity: 0 !important;
    width: 0 !important;
  }
  .sidebar-panel > div { min-width: 0 !important; overflow: hidden !important; }
  .sidebar-panel * { max-width: 100% !important; box-sizing: border-box !important; }
  .sidebar-backdrop { display: block !important; }
  .burger-btn { position: fixed !important; top: 40px !important; left: 8px !important; z-index: 55 !important; }
  .nav-hint { display: none !important; }
  .mobile-model-bar { display: block !important; }
  .mobile-fab { display: flex !important; }
  .viewport-toolbar {
    bottom: 6px !important;
    padding: 3px !important;
    border-radius: 8px !important;
    max-width: calc(100vw - 12px) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
  .viewport-toolbar button {
    padding: 6px 6px !important;
    font-size: 9px !important;
    min-height: 30px !important;
  }
  .viewport-toolbar svg { width: 12px !important; height: 12px !important; }
  .shading-overlay-label { font-size: 9px !important; padding: 3px 5px !important; }
  .toast-msg { bottom: 100px !important; }
  /* Touch-friendly sidebar controls */
  .sidebar-panel button { min-height: 36px; }
  .sidebar-panel input[type="range"] { height: 4px !important; }
  .sidebar-panel input[type="range"]::-webkit-slider-thumb { width: 16px !important; height: 16px !important; }
  .sidebar-panel input[type="range"]::-moz-range-thumb { width: 16px !important; height: 16px !important; }
}

/* Small phones (iPhone SE, etc.) */
@media (max-width: 380px) {
  .sidebar-panel { width: 100vw !important; max-width: 100vw !important; }
  .viewport-toolbar button { padding: 5px 4px !important; font-size: 8px !important; gap: 3px !important; }
  .viewport-toolbar svg { width: 10px !important; height: 10px !important; }
  .mobile-model-bar { padding: 0 4px !important; }
  .shading-overlay-label { font-size: 8px !important; padding: 2px 4px !important; }
}

/* Landscape mobile */
@media (max-height: 500px) and (orientation: landscape) {
  .mobile-model-bar { display: none !important; }
  .mobile-fab { bottom: 50px !important; }
  .viewport-toolbar { bottom: 4px !important; }
  .toast-msg { bottom: 50px !important; }
  .sidebar-panel { top: 32px !important; width: 240px !important; }
  .shading-overlay-label { font-size: 8px !important; }
}

/* Desktop */
@media (min-width: 769px) {
  .sidebar-backdrop { display: none !important; }
  .mobile-model-bar { display: none !important; }
  .mobile-fab { display: none !important; }
}

@keyframes slideIn { from { transform: translateX(-100%); } to { transform: translateX(0); } }
/* stripeIn removed — using grid overlay now */

/* Range input styling */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background: rgba(255,255,255,0.06);
  border-radius: 2px;
  height: 2px;
  outline: none;
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #6C63FF;
  cursor: pointer;
  border: none;
}
input[type="range"]::-moz-range-thumb {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #6C63FF;
  cursor: pointer;
  border: none;
}
